<% include ./partials/header %>
    <% const x=typeof user;%>

        <div>
            <div class="d-flex flex-column">
                <div style="height:80vh;width: 100%;background-image: url(/imgs/landscape/3.jpg);background-repeat: no-repeat;
    background-position: center;background-size: cover;text-align: center;">

                    <% if(typeof user=="object" ) { %>

                        <div id="welcomeMsg" class="welcomeMsg rounded" style="
                    width: 70vw;
                    color:rgb(255, 255, 255);
                    font-weight:bolder;
                    padding: .5em;
                    background-color: rgba(0, 0, 0, 0.712);
                    position: fixed;
                    top:50%;
                    left:15%;
                    z-index: 9999;
                    opacity: 0;
                    ">
                            <i  class="fa fa-close someicon" id="hidewelcomemsg"
                                style="background-color: rgb(185, 184, 184); font-size: 1.5em; padding: 5px;border-radius: 25%; cursor: pointer"></i>


                            <h1 style="color: white;margin-top: 1em;"> Welcome back <%= user.name %>!</h1>

                            <h1 style="color: white;margin-top: 1em;"> You soon have a trip planned at <%= welcomeMsg.hotel
                                    %> from <%= welcomeMsg.fromDate %> to <%= welcomeMsg.toDate %> in a <%=
                                                welcomeMsg.roomType %> room. Payable at the hotel Â£<%= welcomeMsg.total
                                                    %>.</h1>

                        </div>
                        <% } %>

                            <h1 class="rounded show"
                                style="margin:0 auto;width: 50vw;margin-top:25vh;color:rgb(255, 255, 255); font-weight:bolder;padding: .5em; background-color: rgba(0, 0, 0, 0.562);">
                                Out with the daily, in with the wild! <br> Book now!</h1>

                            <div style="width: 95vw;display: flex; justify-content: center;">

                                <div class="mt-4 gap-1 show2"
                                    style="background-color: rgba(255, 0, 0, 0);color: rgba(255, 255, 255, 0.562);display: flex;justify-content: space-between;">

                                    <form action="/findaroom" class="d-flex flex-row" id="indexBookingsForm">
                                        <input id="start" name="start" type="date" class="rounded" placeholder="Arrival"
                                            style="box-shadow: 1px 2px 5px 2px #000000db;" required><br>
                                        <input id="end" name="end" type="date" class="rounded" placeholder="Departure"
                                            style="box-shadow: 1px 2px 5px 2px #000000db;" required><br>
                                        <select id="hotel" name="hotel" class="rounded"
                                            style="box-shadow: 1px 2px 5px 2px #000000db;"
                                            onchange="validateAndSubmit()">
                                            <option selected="selected" disabled>Select hotel</option>
                                            <option value="Gloucester">Gloucester</option>
                                            <option value="London">London</option>
                                            <option value="Birmingham">Birmingham</option>
                                            <option value="Manchester">Manchester</option>
                                        </select>
                                    </form>
                                    <script>
                                        function validateAndSubmit() {
                                            document.getElementById('indexBookingsForm').submit();
                                        };
                                    </script>
                                </div>
                            </div>
                </div>
            </div>

            <div class="carousel-container" onload='this.className += " show";'>
                <div class="carousel" id="carousel">
                    <div class="slide hideme">
                        <h1><i class="fa-solid fa-star" style="color: #f5af34;"></i></h1>
                        <h2>Adaptability</h2>
                        <h5>Lorem ipsum dolor sit amet.</h5>
                    </div>
                    <div class="slide hideme">
                        <h1><i class="fa-solid fa-ear-listen" style="color: #f5af34;"></i></h1>
                        <h2>Adaptability</h2>
                        <h5>Lorem ipsum dolor sit amet.</h5>
                    </div>
                    <div class="slide hideme">
                        <h1><i class="fa-solid fa-clock-rotate-left" style="color: #f5af34;"></i></h1>
                        <h2>Support</h2>
                        <h5>Around the clock support.</h5>
                    </div>
                    <div class="slide hideme" >
                        <h1><i class="fa-solid fa-user-shield" style="color: #f5af34;"></i></h1>
                        <h2>Private data</h2>
                        <h5>We dont share your data with anyone.</h5>
                    </div>
                    <div class="slide hideme">
                        <h1><i class="fa-solid fa-wifi" style="color: #f5af34;"></i></h1>
                        <h2>Wifi</h2>
                        <h5>Russians we are not. Free WiFi!</h5>
                    </div>
                </div>

                <button id="left" class="left-arrow arrow">
                    <i class="fa-solid fa-chevron-left" style="color: #f5af34;"></i>
                </button>
                <button id="right" class="right-arrow arrow">
                    <i class="fa-solid fa-chevron-right" style="color: #f5af34;"></i>
                </button>
            </div>
              
            <div class="text-center" loading="lazy">

                <div class="index card card-body flex-wrap flex-md-row gap-2 justify-content-center m-auto">
                    <img src="/imgs/1.jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/fronthotel/birmingham.jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/fronthotel/gloucester.jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/fronthotel/london.jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/fronthotel/manchester.jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/other/1 (2).jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/other/1 (4).jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/rooms/1 (6).jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/rooms/1 (4).jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/rooms/1 (3).jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/rooms/1 (1).jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/spa/1 (1).jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/spa/1 (2).jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                    <img src="/imgs/spa/1 (4).jpg" class="rounded hideme" loading="lazy"
                        style="max-width: 100%; height:auto; max-height: 20vh;">
                </div>

            </div>
            <script defer>
                //carousel

                const slides = document.querySelectorAll(".slide");
                const carousel = document.getElementById("carousel");
                const left = document.getElementById("left");
                const right = document.getElementById("right");
                const progress = document.getElementById("progress");
                const SLIDES_COUNT = slides.length;

                let current_slide = 0;

                left.addEventListener("click", () => {
                    current_slide--;
                    if (current_slide < 0) {
                        current_slide = SLIDES_COUNT - 2;
                    }
                    updateCarouse();
                });

                right.addEventListener("click", () => {
                    current_slide++;
                    if (current_slide > SLIDES_COUNT - 2) {
                        current_slide = 0;
                    }
                    updateCarouse();
                });

                function updateCarouse() {
                    carousel.style.transform = `translateX(${-current_slide * slides[0].offsetWidth / 1.5}px)`;
                    // document.body.style.background = `${slides[current_slide].getAttribute("data-bg")}`; //dynamic bg possibility
                    // progress

                }
            </script>

            <div class="container hideme" style="margin-top: 50px" loading="lazy">
                <div class="row">
                    <div class="col align-self-start fs-5 fw-bolder">
                        <div class="pt-2 px-2 bd-highlight">
                            <h1>QualityHotel</h1>
                        </div>
                        <div class="p-2 bd-highlight">Head Office <br>105 Business Park <br>Gloucester
                            <br>Gloucestershire <br>GL2 5JU <br> 01594 555444
                        </div>
                        <div class="p-2 bd-highlight"></div>
                    </div>
                    <div class="col align-self-start text-left fs-5 fw-bolder">
                        <div class="d-flex flex-column bd-highlight mb-3">
                            <div class="p-2 bd-highlight">
                                <h3>Kitchen&Bar <br>Opening times:</h5>
                            </div>
                            <div class="px-2 bd-highlight">Monday: 7:00 - 20:00</div>
                            <div class="px-2 bd-highlight">Tuesday: 7:00 - 20:00</div>
                            <div class="px-2 bd-highlight">Wednesday: 7:00 - 20:00</div>
                            <div class="px-2 bd-highlight">Thursday: 7:00 - 20:00</div>
                            <div class="px-2 bd-highlight">Friday: 7:00 - 22:00</div>
                            <div class="px-2 bd-highlight">Saturday: 7:00 - 22:00</div>
                            <div class="px-2 bd-highlight">Sunday: 7:00 - 18:00</div>
                        </div>
                    </div>
                    <div class="col align-self-start text-left">
                        <div class="d-flex flex-column bd-highlight mb-3 fs-5 fw-bolder">
                            <div class="px-2 bd-highlight"><br></div>
                            <div class="px-2 bd-highlight">Reception: 24/7</div>
                            <div class="px-2 bd-highlight">Spa: 12-5 Daily</div>
                            <div class="px-2 bd-highlight">Check-In: 15:00</div>
                            <div class="px-2 bd-highlight">Check-Out: 12:00</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="partners hideme" style="text-align: center;margin-top: 50px;margin-bottom: 10vh;" ;>
                <h1>PARTNERS</h1>
                <div style="display: flex;justify-content: center;gap: 2em;">
                    <h1><i class="fa-solid fa-plane-arrival" onmouseenter="this.style.transform='scale(2)'" onmouseleave="this.style.transform='scale(1)'"></i></h1>
                    <h1><i class="fa-solid fa-medal" onmouseenter="this.style.transform='scale(2)'" onmouseleave="this.style.transform='scale(1)' "></i></h1>
                    <h1><i class="fa-solid fa-suitcase" onmouseenter="this.style.transform='scale(2)'" onmouseleave="this.style.transform='scale(1)' "></i></h1>
                    <h1><i class="fa-brands fa-gratipay" onmouseenter="this.style.transform='scale(2)'" onmouseleave="this.style.transform='scale(1)' "></i></h1>
                    <h1><i class="fa-brands fa-gripfire" onmouseenter="this.style.transform='scale(2)'" onmouseleave="this.style.transform='scale(1)' "></i></h1>
                </div>
            </div>

            <script>
                window.onload = () => {
                    var todaysDate = new Date().toISOString().slice(0, 10);
                    document.getElementById('start').value = todaysDate;
                    var tomorrow = new Date();
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    document.getElementById('end').value = tomorrow.toISOString().slice(0, 10);
                }
            </script>
<script defer>
$(document).ready(function() {
    $(window).scroll( function(){
        $('.hideme').each( function(i){
            var bottom_of_object = $(this).offset().top + $(this).outerHeight();
            var bottom_of_window = ($(window).scrollTop() + ($(window).height())) +(111) ;
            bottom_of_window = parseInt(bottom_of_window).toFixed(0);
            bottom_of_object = parseInt(bottom_of_object).toFixed(0);
            if( bottom_of_window > bottom_of_object ){
                $(this).animate({'opacity':'1'},1000);
            } 
        }); 
    });
  });
</script>

<% if(typeof user=="object" ) { %>
    <script>
        document.addEventListener('DOMContentLoaded', loadModal, false);
        
        function loadModal() {
          setTimeout(showModal,500);
        }
        
        function showModal() {
          document.querySelector('.welcomeMsg').classList.add('show');
        }
        
        document.querySelector('#hidewelcomemsg').addEventListener('click', function() {
          document.querySelector('.welcomeMsg').classList.remove('show');
          document.querySelector('.welcomeMsg').classList.add('hide');
        })
        </script>
    <% } %>
